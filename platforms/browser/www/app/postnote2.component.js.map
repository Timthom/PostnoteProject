{"version":3,"file":"postnote2.component.js","sourceRoot":"","sources":["postnote2.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, ViewChild, AfterViewInit, ViewChildren, QueryList} from '@angular/core';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\nimport { AngularFire, defaultFirebase, FirebaseRef, FirebaseListObservable } from 'angularfire2';\nimport {NoteComponent} from './note.component';\nimport {MenuComponent} from './menu.component';\nimport {GroupComponent} from './group.component';\nimport {DataService} from './data.service';\nimport {OnInit, Output, EventEmitter} from '@angular/core';\nimport {CreatorComponent} from './creator.component';\nimport {HeaderbarComponent} from './headerbar/headerbar.component'\nimport {ValueService} from './value.service';\nimport { Injectable, Inject } from '@angular/core';\nimport {CanReuse} from \"@angular/router-deprecated\";\nimport {LocalStorageService} from './localstorage.service';\nimport { MenuGroupComponent } from './menugroup.component';\nimport {enableProdMode} from '@angular/core';\nimport { DropdownComponent } from './dropdown.component';\nenableProdMode();\n\n\n@Component({\n    moduleId: module.id,\n    selector: 'postnote2-app',\n    providers: [ROUTER_PROVIDERS, DataService, AngularFire, LocalStorageService, MenuGroupComponent],\n    templateUrl: 'postnote2.component.html',\n    styleUrls: ['postnote2.component.css'],\n    directives: [ROUTER_DIRECTIVES, NoteComponent, MenuComponent, GroupComponent, CreatorComponent, HeaderbarComponent, DropdownComponent],\n    pipes: []\n})\n\nexport class Postnote2App implements OnInit, AfterViewInit{\n    \n    allNotes: any;\n    allGroups: any;\n\n    _authData;\n    _token;\n\n    @Output() groupChanged = new EventEmitter();\n    \n    @ViewChild(MenuComponent)\n    private menuComponent : MenuComponent;\n    \n    @ViewChildren(GroupComponent)\n    private groupComponents : QueryList<GroupComponent>;\n    \n    @ViewChild(CreatorComponent)\n    private creatorComponent : CreatorComponent;\n\n    navbarColor: string  = this.randomColor();\n    btnImage: string = 'icon_menu.png';\n    statusCheckSideBar: boolean = this._vs._showSideBar;\n\n    constructor( @Inject(FirebaseRef) private _ref: Firebase, private _ds: DataService, private _vs: ValueService, private _ls: LocalStorageService, private _menuGroup: MenuGroupComponent) {\n        this._authData = this._ref.getAuth();\n        this._menuGroup.groupsChanged.subscribe(this.getGroups());\n        this._token = localStorage.getItem('token');\n    }\n\n    ngOnInit() {\n        this.getGroups();\n        this.getNotes();\n    }\n\n    getGroups() {\n        const token = localStorage.getItem('token');\n        if (this._authData != null && token != null) {\n            this._ds.getAllGroups().then(groups => this.allGroups = groups);\n        } else {\n            this.allGroups = this._ls.getAllGroups();\n        }\n        \n    }\n    \n    getNotes() {\n\n        const token = localStorage.getItem('token');\n        if (this._authData != null && token != null) {\n            this._ds.getAllNotes().then(notes => this.allNotes = notes);\n        } else {\n            this.allNotes = this._ls.getAllNotes();\n        }\n    }\n\n    groupsChanged(groups : any){\n        this.creatorComponent.groupsChanged();\n        this.getGroups();\n        if(this.menuComponent != undefined){ //If we have access to the menu\n            this.menuComponent.getGroups();\n        }\n        \n       \n    }\n    addGroup() {\n        this.getGroups();\n    }\n\n    deleteGroup() {\n        this.getGroups();\n        this.groupChanged.emit('');\n    }\n\n    toggleSideBar() {\n        this._vs._showSideBar = !this._vs._showSideBar;\n        this.statusCheckSideBar = this._vs._showSideBar;\n        if (this.statusCheckSideBar) {\n            this.btnImage = 'icon_back.png';\n        } else {\n            this.btnImage = 'icon_menu.png';\n        }\n    }\n    \n    ngAfterViewInit(){\n        \n    }\n    \n    updateNotes() {\n        //this.menuComponent.getTitles; //funkar ändå..\n        this.groupComponents.toArray().forEach((child)=>child.getNotes());\n        this.creatorComponent.getNotes();\n    }\n\n    randomColor() {\n        var colors = [\"#F490B7\", \"#FFA334\", \"#F56D7E\", \"#8FD3CE\", \"#EEF66C\", \"mediumseagreen\"];\n        var color = colors[Math.floor(Math.random()*colors.length)];\n\n        return color;\n    }\n\n}\n"]}