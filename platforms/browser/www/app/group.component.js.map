{"version":3,"file":"group.component.js","sourceRoot":"","sources":["group.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Input, Output, EventEmitter} from '@angular/core';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\nimport {NoteComponent} from './note.component';\nimport {DataService} from './data.service'\nimport { AngularFire, defaultFirebase, FirebaseRef, FirebaseListObservable } from 'angularfire2';\nimport { Injectable, Inject } from '@angular/core';\n\n@Component({\n  moduleId: module.id,\n  selector: 'group',\n  providers: [ROUTER_PROVIDERS],\n  templateUrl: 'group.component.html',\n  styleUrls: ['group.component.css'],\n  directives: [ROUTER_DIRECTIVES, NoteComponent],\n  pipes: []\n})\n@RouteConfig([\n])\n\nexport class GroupComponent {\n  @Input()\n  group; \n  \n  @Input()\n  groupName;\n  \n  @Input()\n  note;\n  \n  @Output() clickedDelete = new EventEmitter();\n  \n  notes: FirebaseListObservable<any[]>;\n  \n  newName: string = \"\";\n  contentList: string[];\n  _authData;\n  \n  constructor(@Inject(FirebaseRef) private _ref: Firebase, private _ds: DataService) {\n      this._authData = this._ref.getAuth();\n    }\n    \n    ngOnInit() {\n      if(this._authData != null) {\n        this.getNotes();\n      }\n    }\n    \n    getNotes() {\n      if(this._authData != null) {\n        this._ds.getAllNotesInGroup(this.groupName).then(notes => this.notes = notes);\n      }\n    }\n    \n    deleteGroup() {\n      if(this._authData != null) {\n        \n        let doneInLoopArray;\n        let arrayOfKeys: any[] = [];\n        \n        this.notes.forEach(function(result){\n        doneInLoopArray = result;\n      });\n      \n      doneInLoopArray.forEach(function(note){\n        arrayOfKeys.push(note.$key);\n      });\n      \n      for(let key of arrayOfKeys){\n        this._ds.deleteNote(key);\n      }\n        this._ds.deleteGroup(this.group.$key);\n        this.clickedDelete.emit('');\n      };\n    }\n    \n    editGroupName() {\n      if(this._authData != null) {\n      this._ds.updateGroupName(this.group.$key, this.groupName);\n      }\n    }\n    \n    changeNotesInTheGroup(id) {\n      this._ds.changeNoteGroup(id, this.groupName); \n    }\n    \n    enterKey(key) {\n      if(this._authData != null) {\n        \n        if(key === 13) {\n        let doneInLoopArray;\n        let arrayOfKeys: any[] = [];\n        \n        this.notes.forEach(function(result){\n          doneInLoopArray = result;\n        });\n          \n        doneInLoopArray.forEach(function(note){\n          arrayOfKeys.push(note.$key);\n        });\n        \n        for(let key of arrayOfKeys){\n          console.log('key: '+key);\n          this._ds.changeNoteGroup(key, this.groupName);\n        }\n        \n        this.editGroupName();\n        this.getNotes();\n      }\n    }\n  }\n}"]}