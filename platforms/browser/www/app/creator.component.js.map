{"version":3,"file":"creator.component.js","sourceRoot":"","sources":["creator.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, Inject, Pipe, EventEmitter, Input, Output} from '@angular/core';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\nimport {DataService} from './data.service';\nimport {OnInit} from '@angular/core';\nimport {Note} from './note';\nimport {NoteComponent} from './note.component';\nimport {Postnote2App} from './postNote2.component';\nimport {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {Reverse} from './reverse.pipe';\nimport {DropdownComponent} from './dropdown.component';\nimport { AngularFire, defaultFirebase, FirebaseRef, FirebaseListObservable } from 'angularfire2';\nimport { Dragula } from 'ng2-dragula/ng2-dragula';\nimport {LocalStorageService} from './localstorage.service';\nimport {FirstLetter} from './first-letter.pipe';\n\n\n\n@Component({\n    moduleId: module.id,\n    selector: 'creator',\n    templateUrl: 'creator.component.html',\n    styleUrls: ['creator.component.css'],\n    directives: [ROUTER_DIRECTIVES, NoteComponent, DropdownComponent, Dragula],\n    pipes: [Reverse, FirstLetter],\n    providers: [LocalStorageService]\n})\n@RouteConfig([\n])\nexport class CreatorComponent {\n    title: string = \"\";\n    text: string = \"\";\n    notes: any;\n    groups: any;\n    selectedGroup: string = \"noGroup\";\n    _authData;\n    categoriesVisible: boolean = false;\n    colorCount: number = 0; \n\n    constructor(private _ds: DataService, @Inject(FirebaseRef) private _ref: Firebase, private _ls: LocalStorageService) {\n        this._authData = this._ref.getAuth();\n    }\n\n    ngOnInit() {\n        this.getNotes();\n        this.getGroups();\n    }\n\n    getGroups() {\n        if (this._authData != null) {\n            this._ds.getAllGroups().then(groups => this.groups = groups);\n        } else {\n            this.groups = this._ls.getAllGroups();\n        }\n    }\n\n\n    getNotes() {\n        if (this._authData != null) {\n            this._ds.getAllNotesInGroup('noGroup').then(notes => this.notes = notes);\n        } else {\n            this.notes = this._ls.getNotesInGroup('noGroup');\n        }\n    }\n\n    //Emitted from dropdown?\n    groupChanged(event) {\n        //Causes a bug where the creators dropdown changes when you change a notes group?\n        this.selectedGroup = event;\n    }\n\n    save(group: any) {\n        // if (this.title !== '' || this.text !== '') {\n            let time = new Date().getTime();\n\n            if (this._authData != null) {\n                this._ds.addNoteToNotes(\"\", \"\", group, time, this.randomColor());\n\n            } else {\n                let newNote = new Note(\"\", \"\", group, time.toString(), this.randomColor());\n                this._ls.addNoteToNotes(newNote);\n                this.getNotes(); //Update view\n            }\n\n            this.categoriesVisible = false; \n            // this.title = '';\n            // this.text = '';\n        // }\n    }\n\n    open() {\n        this.categoriesVisible = !this.categoriesVisible;\n    }\n    \n    randomColor () {\n       var colors = [\"blue\", \"magenta\", \"yellow\", \"green\", \"pink\", \"orange\"];\n       // if we want to pick a random color.......\n       //var color = colors[Math.floor(Math.random()*colors.length)];\n       var color = colors[this.colorCount];\n       this.colorCount++;\n       if(this.colorCount === 6){\n           this.colorCount = 0; \n       }\n       return color;\n   }\n    \n}"]}