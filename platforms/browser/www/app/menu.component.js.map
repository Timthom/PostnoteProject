{"version":3,"file":"menu.component.js","sourceRoot":"","sources":["menu.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component, OnInit, Input, Output, EventEmitter} from '@angular/core';\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS} from '@angular/router-deprecated';\nimport {Note}from './note';\nimport {DataService} from './data.service';\nimport {MenuGroupComponent} from './menugroup.component';\nimport {ValueService} from './value.service';\nimport {AngularFire, defaultFirebase, FirebaseRef, FirebaseListObservable} from 'angularfire2';\nimport {Injectable, Inject} from '@angular/core';\nimport {CanReuse} from \"@angular/router-deprecated\";\nimport {Group} from './group';\n\nimport {LocalStorageService} from './localstorage.service';\n\n@Component({\n  moduleId: module.id,\n  selector: 'menu',\n  providers: [ROUTER_PROVIDERS, LocalStorageService],\n  templateUrl: 'menu.component.html',\n  styleUrls: ['menu.component.css'],\n  directives: [ROUTER_DIRECTIVES, MenuGroupComponent],\n  pipes: []\n})\n\nexport class MenuComponent implements OnInit, CanReuse {\n\n  routerCanReuse() {\n    return false;\n  }\n  \n  showingCancel: boolean = false;\n  adding: boolean = false;\n  groupName: string = \"\";\n  titles: any;\n  buttonText: string = \"Add category\";\n  myGroups: any;\n  checkSideBar: boolean = this._vs._showSideBar;\n  _authData;\n\n  @Output() clicked = new EventEmitter();\n\n\n  constructor( @Inject(FirebaseRef) private _ref: Firebase, private _ds: DataService, private _vs: ValueService, private _ls: LocalStorageService) {\n\n    this._authData = this._ref.getAuth();\n  }\n\n  ngOnInit() {\n    if (this._authData != null) {\n      this.getTitles();\n      this.getGroups();\n    } else {\n      console.log(\"ngOnInit in menu offline\");\n    }\n  }\n\n  getTitles() {\n    if (this._authData != null) {\n      this._ds.getAllNotes().then(titles => this.titles = titles);\n      this._ds.getAllNotesInGroup('noGroup').then(notes => this.titles = notes);\n    } else {\n      console.log(\"get titles offline\");\n    }\n  }\n\n  getGroups() {\n    if (this._authData != null) {\n      this._ds.getAllGroups().then(groups => this.myGroups = groups);\n    } else {\n      console.log(\"get groups offline\");\n    }\n  }\n\n\n  jumpToNote(note: string) {\n    var element = document.getElementById(note);\n    element.scrollIntoView(true);\n  }\n\n  toggleInput() {\n    this.adding = !this.adding;\n    this.showingCancel = !this.showingCancel;\n    if (this.adding) {\n      this.buttonText = \"Cancel\";\n    } else {\n      this.buttonText = \"Add category\";\n    }\n  }\n\n  addGroup() {\n    if (this._authData != null) {\n      if (this.groupName.trim().length > 0) {\n        let time = new Date().getTime();\n        this._ds.addGroupToGroups(this.groupName, time);\n        this.groupName = \"\";\n        this.getGroups();\n        this.getTitles();\n        this.clicked.emit('');\n        this.adding = false;\n        this.buttonText = \"Add category\";\n      }\n    } else {\n      console.log(\"added group in menu offline\");\n      if (this.groupName.trim().length > 0) {\n        let time = new Date().getTime();\n        let newGroup = new Group(this.groupName, time.toString());\n        this._ls.saveGroup(newGroup);\n        this.groupName = \"\";\n        this.adding = false;\n        this.showingCancel = !this.showingCancel;\n        this.buttonText = \"Add category\";\n      }\n    } /*else {\n      console.log(\"added group offline\");\n    }*/\n  }\n}"]}